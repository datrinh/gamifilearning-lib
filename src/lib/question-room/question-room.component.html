<section class="content" *ngIf="currentInstance">
  <div class="progressbar-container">
    <span class="progress-label">{{ activeIndex }} / {{ maxProgress }}</span>
    <mat-progress-bar
      mode="determinate"
      value="{{activeIndex / maxProgress *100}}"
    ></mat-progress-bar>
  </div>

  <mat-card class="text-card">
    <p *ngIf="!isDone(); else: done">{{ currentInstance.text }}</p>
    <ng-template #done>
      <div
        *ngIf="!clicked; else: charts"
        class="spinner-container"
        (click)="clicked = true"
      >
        <mat-spinner></mat-spinner>
        <p>Verarbeite Daten...</p>
      </div>
    </ng-template>

    <ng-template #charts>
      <!-- <app-chart></app-chart> -->
      <img
        src="https://media.giphy.com/media/nEMmyUp4hl1QOzovKh/giphy.gif"
        alt="Thanks!"
      />
    </ng-template>
  </mat-card>

  <mat-card class="question-card" *ngIf="!isDone()">
    <!--
      <div *ngFor="let q of currentInstance.toBeLabeled[currentQuestion]">
    -->
    {{ currentInstance.toBeLabeled[currentQuestion].question.questionId }}
    <button
      *ngFor="
        let answer of currentInstance.toBeLabeled[currentQuestion].question
          .possibleAnswers
      "
      (click)="submitAnswer(answer)"
    >
      {{ answer }}
    </button>
    <!-- </div> -->
  </mat-card>

  <!--
    <button
      *ngIf="!isDone()"
      mat-raised-button
      class="submit-button"
      (click)="submitAnswer()"
      color="primary"
    >
      Weiter
    </button>
  -->
</section>
